<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bewithme.www.repository.CourseDAO">

	<!-- 게시판 insert -->
	<insert id="insertCourse" parameterType="com.bewithme.www.domain.CourseVO">
		insert into course (cou_title, id, cou_content, sub_num)
		values (#{cou_title}, #{id}, #{cou_content}, #{sub_num})
	</insert>

	<select id="getList" resultType="com.bewithme.www.domain.CourseVO">
		select * from course where sub_num=#{sub_num} and cou_isDel="N"
	</select>
	
	<select id="getTitleContent" resultType="com.bewithme.www.domain.CourseVO">
		select * from course where cou_num=#{cou_num}
	</select>
	
<!-- 	<select id=" courseCount" resultType="com.bewithme.www.domain.CourseVO">
		select count(cou_num) from course; 
	</select> -->
	
	<update id="courseCount">
		update course c 
		set c.cou_count = (select count(cou_num) from course where cou_num = #{cou_num})
		where c.cou_num = #{cou_num}
	</update>
</mapper>
